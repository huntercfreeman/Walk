@using System.Text;
@using Walk.Common.RazorLib.FileSystems.Models

@{ var dirtyResourceUriState = TextEditorService.GetDirtyResourceUriState(); }

<div class="di_web_dirty-text-editor-models-view">
    <h3>DirtyResourceUriViewDisplay</h3>
    
    <hr/>
    
    @{ var localDirtyResourceUriList = dirtyResourceUriState.DirtyResourceUriList; }
    @foreach (var dirtyResourceUri in localDirtyResourceUriList)
    {
        var absolutePath = TextEditorService.CommonService.EnvironmentProvider.AbsolutePathFactory(dirtyResourceUri.Value, false, tokenBuilder: new StringBuilder(), formattedBuilder: new StringBuilder(), AbsolutePathNameKind.NameWithExtension);

        <div>
            <label>Open in editor:</label>
            <button class="di_button"
                    style="display: inline; margin-bottom: 15px;"
                    title="@absolutePath.Value"
                    @onclick="() => OpenInEditorOnClick(dirtyResourceUri.Value)">
                @absolutePath.Name
            </button>
        </div>
    }
</div>
